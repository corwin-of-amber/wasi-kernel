<!DOCTYPE html>
<html>
  <head>
    <title>WASI Kernel</title>
    <meta charset="UTF-8" />
    <!-- <link href="./src/kernel/worker.ts" id="kernel-worker"> -->
    <link href="./src/apps/busy.wasm" id="wasm-app">
    <script src="./src/kernel/browser.ts"></script>
  </head>

  <script>
    function getAsset(id) {
        return document.getElementById(id).getAttribute("href");
    }
    
    var p = new kernel.WorkerProcess(),
        volume = new kernel.SharedVolume();
        
    p.mountFs(volume);
    p.stdout.on('data', console.log);
    p.exec(getAsset('wasm-app'), ['touch', '/home/b']);
  </script>

  <body>
  </body>

</html>